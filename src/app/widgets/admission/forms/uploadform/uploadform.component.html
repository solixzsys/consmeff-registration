<p-toast position="top-right"></p-toast>

<div class="upload-container">
  <form class="upload-form">
    
    <h3 class="form-title">Upload scan copy or PDF file</h3>

    <!-- Certificate of Birth Upload Section -->
    <div class="upload-section">
      <label class="upload-label">Certificate of Birth <span class="required">*</span></label>
      
      <div *ngIf="!CertificateFile && !fileObjects?.certificateofbirth?.file_url" class="upload-area" (click)="f1.click()">
        <i class="pi pi-cloud-upload upload-icon"></i>
        <div class="upload-desc">Click to upload or drag and drop file</div>
        <small class="upload-hint">PDF, JPG, PNG (Max 5MB)</small>
      </div>
      <input #f1 (change)="onCertificateUpload($event)" style="display: none" type="file" accept=".pdf,.jpg,.jpeg,.png" />

      <div *ngIf="CertificateFile || fileObjects?.certificateofbirth?.file_url" class="file-preview">
        <div class="file-info">
          <img [src]="fileObjects?.certificateofbirth?.file_url || placeholder" alt="document" class="file-icon" />
          <div class="file-details">
            <div class="file-name">
              {{ fileObjects?.certificateofbirth?.file_url ? getFileName(fileObjects.certificateofbirth.file_url) : CertificateFile?.name }}
            </div>
            <div class="file-size">
              {{ passSize(fileObjects?.certificateofbirth?.file_size || CertificateFile?.size) }}
            </div>
          </div>
          <p-progressSpinner *ngIf="isLoadingCertificate" styleClass="file-spinner" 
            [style]="{width: '30px', height: '30px'}" strokeWidth="4"></p-progressSpinner>
        </div>
        <i class="pi pi-times-circle remove-icon" (click)="removeFile(0)" *ngIf="!isLoadingCertificate"></i>
      </div>
    </div>

    <!-- O'Level Result Upload Section -->
    <div class="upload-section">
      <label class="upload-label">O' Level Result <span class="required">*</span></label>
      
      <div *ngIf="!ResultFile && !isOlevelFileAvailable()" class="upload-area" (click)="f2.click()">
        <i class="pi pi-cloud-upload upload-icon"></i>
        <div class="upload-desc">Click to upload or drag and drop file</div>
        <small class="upload-hint">PDF, JPG, PNG (Max 5MB)</small>
      </div>
      <input #f2 (change)="onOlevelUpload($event)" style="display: none" type="file" accept=".pdf,.jpg,.jpeg,.png" />

      <div *ngIf="ResultFile || isOlevelFileAvailable()" class="file-preview">
        <div class="file-info">
          <img [src]="getOlevelFile()?.file_url || placeholder" alt="document" class="file-icon" />
          <div class="file-details">
            <div class="file-name">
              {{ isOlevelFileAvailable() ? getFileName(getOlevelFile()?.file_url) : ResultFile?.name }}
            </div>
            <div class="file-size">
              {{ passSize(getOlevelFile()?.file_size || ResultFile?.size) }}
            </div>
          </div>
          <p-progressSpinner *ngIf="isLoadingOlevel" styleClass="file-spinner" 
            [style]="{width: '30px', height: '30px'}" strokeWidth="4"></p-progressSpinner>
        </div>
        <i class="pi pi-times-circle remove-icon" (click)="removeFile(1)" *ngIf="!isLoadingOlevel"></i>
      </div>
    </div>

    <!-- Passport Photograph Upload Section -->
    <div class="upload-section">
      <label class="upload-label">Passport Photograph <span class="required">*</span></label>
      
      <div *ngIf="!PassportFile && !fileObjects?.passport?.file_url" class="upload-area" (click)="f3.click()">
        <i class="pi pi-cloud-upload upload-icon"></i>
        <div class="upload-desc">Click to upload or drag and drop file</div>
        <small class="upload-hint">JPG, PNG (Max 2MB)</small>
      </div>
      <input #f3 (change)="onPassportUpload($event)" style="display: none" type="file" accept=".jpg,.jpeg,.png" />

      <div *ngIf="PassportFile || fileObjects?.passport?.file_url" class="file-preview">
        <div class="file-info">
          <img [src]="fileObjects?.passport?.file_url || placeholder" alt="document" class="file-icon" />
          <div class="file-details">
            <div class="file-name">
              {{ fileObjects?.passport?.file_url ? getFileName(fileObjects.passport.file_url) : PassportFile?.name }}
            </div>
            <div class="file-size">
              {{ passSize(fileObjects?.passport?.file_size || PassportFile?.size) }}
            </div>
          </div>
          <p-progressSpinner *ngIf="isLoadingPassport" styleClass="file-spinner" 
            [style]="{width: '30px', height: '30px'}" strokeWidth="4"></p-progressSpinner>
        </div>
        <i class="pi pi-times-circle remove-icon" (click)="removeFile(2)" *ngIf="!isLoadingPassport"></i>
      </div>
    </div>

    <!-- UTME Result Upload Section -->
    <div class="upload-section">
      <label class="upload-label">UTME Result <span class="required">*</span></label>
      
      <div *ngIf="!UTMEFile && !fileObjects?.utme?.file_url" class="upload-area" (click)="f4.click()">
        <i class="pi pi-cloud-upload upload-icon"></i>
        <div class="upload-desc">Click to upload or drag and drop file</div>
        <small class="upload-hint">PDF, JPG, PNG (Max 5MB)</small>
      </div>
      <input #f4 (change)="onUTMEUpload($event)" style="display: none" type="file" accept=".pdf,.jpg,.jpeg,.png" />

      <div *ngIf="UTMEFile || fileObjects?.utme?.file_url" class="file-preview">
        <div class="file-info">
          <img [src]="fileObjects?.utme?.file_url || placeholder" alt="document" class="file-icon" />
          <div class="file-details">
            <div class="file-name">
              {{ fileObjects?.utme?.file_url ? getFileName(fileObjects.utme.file_url) : UTMEFile?.name }}
            </div>
            <div class="file-size">
              {{ passSize(fileObjects?.utme?.file_size || UTMEFile?.size) }}
            </div>
          </div>
          <p-progressSpinner *ngIf="isLoadingUTME" styleClass="file-spinner" 
            [style]="{width: '30px', height: '30px'}" strokeWidth="4"></p-progressSpinner>
        </div>
        <i class="pi pi-times-circle remove-icon" (click)="removeFile(4)" *ngIf="!isLoadingUTME"></i>
      </div>
    </div>

    <!-- Certificate of Origin Upload Section -->
    <div class="upload-section">
      <label class="upload-label">Certificate of Origin <span class="required">*</span></label>
      
      <div *ngIf="!OriginFile && !fileObjects?.origin?.file_url" class="upload-area" (click)="f5.click()">
        <i class="pi pi-cloud-upload upload-icon"></i>
        <div class="upload-desc">Click to upload or drag and drop file</div>
        <small class="upload-hint">PDF, JPG, PNG (Max 5MB)</small>
      </div>
      <input #f5 (change)="onOriginUpload($event)" style="display: none" type="file" accept=".pdf,.jpg,.jpeg,.png" />

      <div *ngIf="OriginFile || fileObjects?.origin?.file_url" class="file-preview">
        <div class="file-info">
          <img [src]="fileObjects?.origin?.file_url || placeholder" alt="document" class="file-icon" />
          <div class="file-details">
            <div class="file-name">
              {{ fileObjects?.origin?.file_url ? getFileName(fileObjects.origin.file_url) : OriginFile?.name }}
            </div>
            <div class="file-size">
              {{ passSize(fileObjects?.origin?.file_size || OriginFile?.size) }}
            </div>
          </div>
          <p-progressSpinner *ngIf="isLoadingOrigin" styleClass="file-spinner" 
            [style]="{width: '30px', height: '30px'}" strokeWidth="4"></p-progressSpinner>
        </div>
        <i class="pi pi-times-circle remove-icon" (click)="removeFile(3)" *ngIf="!isLoadingOrigin"></i>
      </div>
    </div>

  </form>
</div>